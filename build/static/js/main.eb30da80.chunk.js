(this.webpackJsonptehtava6=this.webpackJsonptehtava6||[]).push([[0],{14:function(e,t,n){e.exports=n(37)},19:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),l=n(13),r=n.n(l),c=(n(19),n(2)),u=n(3),i=n.n(u),s="/api/persons",m=function(){return i.a.get(s).then((function(e){return e.data}))},d=function(e){return i.a.post(s,e).then((function(e){return e.data}))},f=function(e){return i.a.delete("".concat(s,"/").concat(e))},h=function(e,t){return i.a.put("".concat(s,"/").concat(e),t).then((function(e){return e.data})).catch((function(e){alert("Person already removed from the server")}))},v=function(e){return o.a.createElement("ul",null,e.henkN.map((function(t){return o.a.createElement("li",{key:t.name},t.name," ",t.number," ",o.a.createElement("button",{onClick:e.handleRemoval,value:t.id},"delete"))})))},g=function(e){return o.a.createElement("div",null,"filter shown with",o.a.createElement("input",{value:e.filt,onChange:e.kasittelija}))},b=function(e){var t=e.message;return null===t?null:o.a.createElement("div",{className:"alert"},t)},p=function(e){var t=Object(a.useState)([]),n=Object(c.a)(t,2),l=n[0],r=n[1],u=Object(a.useState)(""),i=Object(c.a)(u,2),s=i[0],p=i[1],E=Object(a.useState)(""),w=Object(c.a)(E,2),k=w[0],j=w[1],y=Object(a.useState)(""),O=Object(c.a)(y,2),S=O[0],C=O[1],N=Object(a.useState)(null),T=Object(c.a)(N,2),B=T[0],D=T[1];Object(a.useEffect)((function(){console.log("effect"),m().then((function(e){r(e),console.log("henkilot ladattu")}))}),[]);var J=l.filter((function(e){return e.name.includes(S)}));return o.a.createElement("div",null,o.a.createElement("h2",null,"Phonebook"),o.a.createElement(b,{message:B}),o.a.createElement(g,{filt:S,kasittelija:function(e){console.log(e.target.value),C(e.target.value)}}),o.a.createElement("h2",null,"add a new"),o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log("nappulaa painettu",s,S,l.length);for(var t={name:s,number:k},n=!1,a=0;a<l.length;a++){if(console.log("etsinta",a),l[a].name===t.name){n=!0;var o=l[a].id;console.log("loytyi"),window.confirm("".concat(s," is already added to phonebook, replace the old number with a new one?"))&&(h(o,t),D("".concat(s," number updated")),setTimeout((function(){D(null),window.location.reload(!0)}),3e3));break}console.log("ei loytynyt kierroksella",a)}!1===n&&(d(t),D("".concat(s," added")),setTimeout((function(){D(null),window.location.reload(!0)}),3e3),p(""),j(""))}},o.a.createElement("div",null,"name:",o.a.createElement("input",{value:s,onChange:function(e){console.log(e.target.value),p(e.target.value)}})),o.a.createElement("div",null,"number:",o.a.createElement("input",{value:k,onChange:function(e){console.log(e.target.value),j(e.target.value)}})),o.a.createElement("div",null,o.a.createElement("button",{type:"submit"},"add"))),o.a.createElement("h2",null,"Numbers"),o.a.createElement(v,{henkN:J,handleRemoval:function(e){e.preventDefault(),console.log("poistoa painettu",e.target.value),f(e.target.value),D("person deleted"),setTimeout((function(){D(null),window.location.reload(!0)}),3e3)}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[14,1,2]]]);
//# sourceMappingURL=main.eb30da80.chunk.js.map